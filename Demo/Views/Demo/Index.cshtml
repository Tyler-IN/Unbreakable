@model Unbreakable.Demo.Models.DemoViewModel

@section styles {
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.26.0/codemirror.min.css">
}

@using (Html.BeginForm("Test", "Demo")) {
  <div class="code-wrapper">
    @Html.TextArea("code", Model.Code)
  </div>
  <button type="submit">Run</button>
}
<pre>
Duration: @((int)Model.Duration.TotalMilliseconds)ms
Result: @Model.Result
</pre>

<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.26.0/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.26.0/mode/clike/clike.js"></script>
<script>
  'use strict';
  CodeMirror.fromTextArea(document.getElementsByTagName('textarea')[0], {
    mode: 'text/x-csharp',
    indentUnit: 4
  });
</script>